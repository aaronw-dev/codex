<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta charset="utf-8">
    <meta name="keywords" content="codex,learn,programming,free,open-source">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <meta name="revisit-after" content="30 days">
    <meta name="author" content="awdev,ingeniouscoders">
    <meta name="title" content="CodeX">

    <link rel="shortcut icon" href="../static/favicon.png">

    <meta name="description"
        content="Welcome to CodeX. Learn to code with our unique programming teaching app! Enjoy interactive lessons and earning experience points. Start your coding adventure today!">
    <meta property="og:description"
        content="Welcome to CodeX. Learn to code with our unique programming teaching app! Enjoy interactive lessons and earning experience points. Start your coding adventure today!">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codex.awdev.codes/">

    <meta name="theme-color" content="#E6AB1C" data-react-helmet="true">

    <meta property="og:image" content="https://awdev.codes/codex.png">
    <meta name="twitter:card" content="https://awdev.codes/codex.png">
    <title>CodeX</title>

    <link rel="stylesheet" href="../static/fonts.css">
    <link rel="stylesheet" href="../static/style.css">
    <link rel="stylesheet" href="../static/app.css">
    <link rel="manifest" href="../static/manifest.json" />
</head>

<body>
    <div class="floater">
        <span class="welcome-text">Welcome to</span>
        <h1 class="floater-main">Code<span class="welcome-x">X</span></h1>
    </div>
    <div class="download-info">
        <button id="install">
            <img src="../static/download.svg">
        </button>
        <span>*CodeX is a progressive web app, meaning it must be installed on your device.</span>
    </div>
    <script>
        if (window.matchMedia('(display-mode: standalone)').matches) {
            if (localStorage.getItem("setup") == true) {
                location.href = "/app"
            } else {
                location.href = "/onboarding"
            }

        }

        let installPrompt = null;
        const installButton = document.querySelector("#install");
        window.addEventListener("beforeinstallprompt", (event) => {
            event.preventDefault();
            installPrompt = event;
            installButton.removeAttribute("hidden");
        });

        installButton.addEventListener("click", async () => {
            if (!installPrompt) {
                return;
            }
            const result = await installPrompt.prompt();
            console.log(`Install prompt was: ${result.outcome}`);
            disableInAppInstallPrompt();
        });

        function disableInAppInstallPrompt() {
            installPrompt = null;
            installButton.setAttribute("hidden", "");
        }

        window.addEventListener("appinstalled", () => {
            disableInAppInstallPrompt();
        });

        function disableInAppInstallPrompt() {
            installPrompt = null;
            installButton.setAttribute("hidden", "");
        }
    </script>
</body>

</html>